<!doctype html>
<html>
<head>
<link rel=icon href=/favicon.png>
<meta name=viewport content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel=stylesheet>
<title>Home - Google Drive</title>
<style>
    * {
        background-color: black;
        color: white;
        font-family: "JetBrains Mono", monospace;
        font-size: 20px;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: flex-start;
        min-height: 100vh;
        padding: 20px;
        position: relative;
        overflow-x: hidden; /* Prevent horizontal scrollbar */
    }

    .container {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
        max-width: 90%;
        margin-left: 5%;
        margin-top: 5%;
    }

    .Main {
        width: 100%;
    }

    .error-title {
        position: fixed;
        left: 6%;
        top: 5%;
        font-size: 50px;
        color: rgba(255, 255, 255, 0.716);
        font-weight: 400;
        z-index: 10;
    }

    .error {
        position: fixed;
        left: 12%;
        top: 25%;
        font-size: 20px;
        color: rgba(255, 255, 255, 0.384);
        font-style: italic;
        font-weight: 200;
        line-height: 1.5;
        z-index: 10;
    }

    button {
        background-color: black;
        color: white;
        font-family: monospace;
        font-size: 20px;
        border: solid 1px;
        border-color: rgba(255, 255, 255, 0.384);
        padding: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 2px;
    }

    #cyanide {
        position: absolute;
        bottom: -40px;
        right: 60px;
        width: 200px;
        transform: none;
    }

    button:hover {
        background-color: cyan;
        color: rgb(2, 54, 54);
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.15), 0 0 20px rgba(0, 255, 255, 0.15), 0 0 40px rgba(0, 255, 255, 0.15), 0 0 80px rgba(0, 255, 255, 0.15), 0 0 160px rgba(0, 255, 255, 0.75);
    }

    h3 {
        position: fixed;
        left: 70%;
        top: 3%;
        font-size: 20px;
        color: white;
        z-index: 10;
    }

    .fixed-line, .fixed-line2, .vertical-line, .vertical-line2 {
        position: fixed;
        background-color: #ffffff5c;
        z-index: 5;
    }

    .fixed-line {
        top: 10%;
        left: 0;
        width: 100%;
        height: 1px;
        background-image: linear-gradient(to right, black 50%, transparent 50%);
        background-size: 10px 1px;
    }

    .fixed-line2 {
        top: 90%;
        left: 0;
        width: 100%;
        height: 1px;
        background-image: linear-gradient(to right, black 50%, transparent 50%);
        background-size: 10px 1px;
    }

    .vertical-line {
        top: 0;
        left: 10%;
        width: 1px;
        height: 100vh;
        background-image: linear-gradient(to bottom, black 50%, transparent 50%);
        background-size: 1px 10px;
    }

    .vertical-line2 {
        top: 0;
        left: 90%;
        width: 1px;
        height: 100vh;
        background-image: linear-gradient(to bottom, black 50%, transparent 50%);
        background-size: 1px 10px;
    }

    /* Keyframes for the scrolling animation */
    @keyframes scrollText {
        from {
            transform: translateX(0%);
        }
        to {
            transform: translateX(-50%); /* Scroll until the second half is visible */
        }
    }

    #countdown-container {
        position: fixed;
        bottom: 20px;
        left: 0;
        width: 100%;
        z-index: 10;
        display: flex;
        white-space: nowrap; /* Prevent text from wrapping */
    }
    
    #countdown-message {
        font-size: 24px;
        color: red;
        font-weight: normal;
        /* Make the message container wide enough to hold two copies of the text */
        display: flex;
        animation: scrollText 30s linear infinite;
    }

    #countdown-message span {
        color: red;
        padding-right: 50px; /* Add space between repetitions */
    }

</style>
</head>
<body>
<div class="fixed-line"></div>
<div class="fixed-line2"></div>
<div class="vertical-line"></div>
<div class="vertical-line2"></div>

<div class=container>
    <div class=Main>
        <h5 class="error-title">cyλn</h5>
        <h6 class="error">
            If you are reading this, then popups are blocked!<br><br>
            Enable Popups:<br>
            1. Click on the popup icon on your URL bar.<br>
            2. Select "Always allow popups and redirects".<br>
            3. Refresh to update changes.<br><br>
            Why?<br>
            This is to ensure that this site does not show up in your search history and this site can last longer!<br><br><br><br>
            <span style="background-color: white; color: black; font-weight: bold;">
                Or, if you have no idea what I'm talking about, then click here to manually open the website ↓
            </span>
            <button id=cyanide onclick='openWebsiteInNewWindow("https://cyan-embed.vercel.app","cyanide")'>> Start cyλnide </button>
        </h6>
        <h3>Enable Popups! ↑</h3>
    </div>
</div>

<div id="countdown-container">
    <div id="countdown-message"></div>
</div>
<script>
    // Countdown logic (unchanged)
    let countdown = 30;
    const countdownMessageElement = document.getElementById('countdown-message');
    let countdownInterval;

    const updateCountdown = () => {
        const message = `This website will self-destruct in ${countdown} seconds!`;
        let messageContent = '';
        for (let i = 0; i < 10; i++) {
            messageContent += `<span>${message}</span>`;
        }
        countdownMessageElement.innerHTML = messageContent;
        
        if (countdown <= 0) {
            clearInterval(countdownInterval);
            window.location.href = 'about:blank';
        }
        countdown--;
    };

    updateCountdown();
    countdownInterval = setInterval(updateCountdown, 1000);

    try {
        let inFrame;
        try {
            inFrame = window !== top;
        } catch (e) {
            inFrame = true;
        }
        if (
            !inFrame &&
            !navigator.userAgent.includes("Firefox") &&
            (localStorage.getItem("ab") === null || localStorage.getItem("ab") === "true")
        ) {
            if (!localStorage.getItem("ab")) localStorage.setItem("ab", "true");
            const popup = window.open("about:blank", "_blank");
            
            if (!popup || popup.closed) {
                // POPUP WAS BLOCKED
                // Do nothing. The user will see the fallback UI on this page.
            } else {
                // POPUP SUCCEEDED
                // Set title & favicon first
                popup.document.title = "My Drive - Google Drive";
                const link = popup.document.createElement("link");
                link.rel = "icon";
                link.href = "https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png";
                popup.document.head.appendChild(link);

                // Embed cyan-zeta.vercel.app in the iframe
                const iframe = popup.document.createElement("iframe");
                iframe.style.position = "fixed";
                iframe.style.top = "0";
                iframe.style.left = "0";
                iframe.style.width = "100%";
                iframe.style.height = "100%";
                iframe.style.border = "none";
                iframe.src = "https://cyan-embed.vercel.app";
                popup.document.body.appendChild(iframe);

                // **CHANGE**: Now redirect this page to Google ONLY IF the popup succeeded.
                window.location.replace("https://www.google.com");
            }
        }
    } catch (e) {
        // Fallback for any other errors, the UI remains.
    }

   function openWebsiteInNewWindow(url, elementId) {
    let popup;
    document.getElementById(elementId).onclick = function() {
        if (popup) {
            popup.focus();
        } else {
            popup = window.open("about:blank", "_blank");
            if (!popup || popup.closed) {
                alert("Please allow popups for this site. Doing so will allow us to open the site in an about:blank tab and prevent this site from showing up in your history. You can turn this off in the site settings.");
            } else {
                const doc = popup.document;
                const iframe = doc.createElement("iframe");
                const style = iframe.style;
                const link = doc.createElement("link");

                const name = localStorage.getItem("name") || "My Drive - Google Drive";
                const icon =
                    localStorage.getItem("icon") ||
                    "https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png";

                doc.title = name;
                link.rel = "icon";
                link.href = icon;

                iframe.src = url;

                iframe.sandbox = "allow-scripts allow-pointer-lock allow-same-origin allow-forms";
                
                // Updated allow attribute for pasting
                iframe.allow = "pointer-lock; clipboard-write";

                style.position = "fixed";
                style.top = style.bottom = style.left = style.right = 0;
                style.border = style.outline = "none";
                style.width = style.height = "100%";

                doc.head.appendChild(link);
                doc.body.appendChild(iframe);

                const script = doc.createElement("script");
                script.textContent = `
                    window.onbeforeunload = function (event) {
                        const confirmationMessage = 'Leave Site?';
                        (event || window.event).returnValue = confirmationMessage;
                        return confirmationMessage;
                    };
                `;
                doc.head.appendChild(script);
            }
        }
    };
}
</script>
</body>
</html>
